# 1.Установка LIMB
## 1.1. Установка, общие сведения
LIMB - это минифреймворк для простых веб приложений;
LIMB предоставляет следующие возможности:
- Создание, редактирование и удаление таблиц. Все происходит исключительно через веб-интерфейс.
- Автоматическое создание классов для работы с созданными таблицами и данными.
- Автоматическое заполнение таблиц, при условии их создания через компоненты предоставляемые Limb, простая настройка процесса заполнения (email, image, ЧПУ ссылки, пароли).
- Модули пагинации, авторизации/регистрации, оформление: Bootstrap 5
- Собственный шаблонизатор с возможностью контроля доступа {Работает вместе с модулем аторизации и регистрации}
- Взаимодействие с вашим ботом Telegram
## 1.2. Установка и настройка
1. Скачать на сервер папку с Limb;
2. Переименовать ее в название вашего будущего проекта;
3. Создать базу данных (Mysqli);
4. Изменить настройки подключения к вашей БД: limb/app/base/db.ini
```
host='localhost';
name_db='название_вашей_бд';
user='root';
password='';
fornameDB='3289t_';
nameForm='connect';
```
5. Если вы сейчас перейдете по адресу вашего сайта, то попадете на демонстрационную страницу лимба. Здесь будет ваш сайт. Чтобы перевести Limb в режим работы с таблицами необходимо поменять route. Располагается в limb/app/web/route.php.
```
$this -> routeLimb();#Limb работа с таблицами
// $this -> routePublicLimb(); #ваш проект
```
Чтобы изменить направление перехода, достаточно закомментировать routeLimb() и раскомментировать routePublicLimb()
# 2. Работа с таблицами MYSQLI
## 2.1. Способ 1. Создание таблиц через шаблоны
Один из способов - использование шаблонов, хорош когда у вас есть наработанные шаблоны, либо предложенные вам подходят, если нет, то можно прочитать следующий абзац про создание своих шаблонов.
### 2.1.1 Создание своего шаблона
Шаблоны располагаются в каталоге datastore/template/..., все в формате ini, при создании используются принятые на LIMB сокращения.
```
table_name = 'user';
id = 'this_id';
name = 'VARCHAR(250)';
login = 'VARCHAR(60)';
email = 'VARCHAR(255)';
password = 'VARCHAR(32)';
status = 'VARCHAR(50)';
date_creation = 'this_date';
```
Если у вас есть нужный шалблон, то переходим в меню "Шаблоны" и ищем нужный шаблон таблицы.
При создании таблицы шаблон можно будет подредактировать.
Переходим по ссылке на нужный шаблон и если нужно, то редактируем, руководствуясь следующим параграфом этой части, либо - если все устраивает - создаем таблицу.
**Важно! При создании таблицы рекомендуется писать нормальное имя. Например: таблица пользователей users, для безопасности перед названием таблицы будет добавлена приставка, которую вы ранее уже задали в "настройках". Использовать лучше простые имена, потому как при создании таблицы будет создано еще и два класса с использованием ее имени, соотвественно без использования приставки.**
## 2.2. Способ 2. Создание таблиц вручную, через главное меню
Вручную - это все таже структура ini файла. Первой строчкой которого всегда идет, где standart - имя создаваемой таблицы:
```
table_name = "standart";
```
Далее - вариативно, в зависимости от ваших нужд:
```
... = int(num);
... = float(num);
... = double(num);
... = boolean;
... = char;
... = varchar(num);
... = text;
```
## 2.3. Импорт, не рекомендуется
С этим способом все просто, но большинство возможностей будет потеряно. Например такие важные, как автозаполнение таблиц.
Для реализации достаточно ранее откуда-то экспортированную базу данных из файла mydb.sql (например), вставить кодом в текстовое поле в параграфе "импорт".
## 2.4. Заполнение рыбой текстом таблиц БД
Расположение: app/base/control/Generate.php
Для стандартного заполнения таблиц текстом-рыбой воспользуйтесь блоком на странице созданной таблицы: просто введите количество желаемых записей в таблице и отправьте.
При создании таблицы средствами limb в автоматическом режиме создаются две таблицы в code/site. Первая, входная - это name_tablePage.php, вторая, для взаимодействия с базой данных - name_tableTable.php.
Если у вас идет ячейка NULL, то в запросе уберите вокруг этой переменной прямые одинарные кавычки. Обычно это происходит при необходимости записать id, которое автоматом инкрементируется. Это можно сделать в файле: code/site/name_tableTable.php, там же находится и тонкая настройка заполнения таблиц. А именно в методе insertFieldLimb($num), который принимает $num - как количество генерируемых записей, и ничего, кроме хорошего настроения не возвращает.
Тонкая настройка заключается прежде всего в настройке методов из класса Generate.
Использование:
```
use app/ base/ control as Control;
$n = Control/ Generate::this_idgenerate();
```
`this_idgenerate()` - генерирует id, вызывается по умолчанию, возвращает NULL
`this_dategenerate()` - вызывается по умолчанию, возвращает NULL
`intgenerate($num = 0)` - Генерирует число int, либо с произвольным количеством десятков, либо с заданным $num
`varchargenerate($num)` - Генерирует строку на кириллице, с заданным количеством символов
`textgenerate($num = "no")` - Генерирует string на кириллице, заданной длинной либо произвольной от 200 до 900 символов
`floatgenerate()` - Генерирует число float, формата: x.xxxx;
`booleangenerate()` - Генерирует boolean, условно это int [0, 1];
`imagegenerate()` - Генерирует строку с названием действительного изображения: "limb.jpg"
`linkgenerate($name)` - Генерирует число ссылку либо иное. Переводит выражение из кириллицы на латиницу
`passgenerate()` - Генерирует пароль из пяти 1, 2, 3, 4. И возвращает их md5("11111")
`codegenerate($num)` - Генерирует код длинной в $num, в генерации также учавствуют следующие символы: !@%^&*
`nameLatinGenerate($num)` -Генерирует код длинной в $num, в генерации НЕ учавствуют следующие символы: !@%^&*, только большие и маленькие латинские буквы.
# 3. Добавление пагинации
# 4. Авторизация и регистрация
# 4.1. Добавление авторизации и регистрации на сайт 
# 4.2. Проверка авторизации пользователя, защита route
# 4.3. Стандартные роли, создание своих ролей
# 5. Работа с html формой
# 5.1. Создание формы html и работа с ней
# 5.2. Создание формы html для загрузки файлов и работа с ней
# 6. Запросы к базе данных
# 6.1. Класс SearchInq
# 6.2. Класс RedactionInq
# 7. Шаблонизатор
# 7.1. Схема построения .tm
# 7.2. Сопровождение шаблона в .php
# 8. Использование стилей(сss) и скриптов(js)
# 9. Использование JSON и AJAX
# 10. Мультиязычность
# 11. Добавление комментариев к странице
# 12. Телеграм бот
